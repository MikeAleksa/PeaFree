{% extends "food_search/index_template.html" %}
{% load humanize %}

{% block title %}PeaFree!{% endblock %}

{% block contenttitle %}Search For a Food{% endblock %}

{% block content %}
    <!-- search box text -->
    <div>
        <p class="lead text-center">
            The database contains information about <b class="font-weight-bold">{{ food_count }}</b> foods from
            Chewy.com.
            <br><br>
            <b class="font-weight-bold">{{ good_count }}</b> of these foods meet the new FDA guidelines regarding
            legumes,
            pulses, and potatoes.
            <br><br>
        </p>
    </div>

    <!-- search bar -->
    <div class="row lead text-center">
        <dt class="col-lg-8 mx-auto">
            <form class="searchform lead text-center" action="{% url 'food_search:results' %}" method="get"
                  accept-charset="utf-8" autocomplete="off">
                <p>{{ form.q }}</p>
                <p>
                    <button class="btn btn-primary" type="submit">
                        <i class="fas fa-check fa-fw"></i>
                        Submit
                    </button>
                </p>
            </form>
            <div class="m-auto align-content-center text-center" data-toggle="modal"
                 data-target="#advancedSearchModel">
                <p><a href="#/">Advanced Search</a></p>
            </div>
    </div>

    <div>
        <p class="lead text-center small mt-3 mb-auto">
            <i style="font-style:italic">The database was last updated {{ update.date__max|naturalday }}.</i>
        </p>
    </div>

    <!-- advanced search popover -->
    <div class="portfolio-modal modal fade" id="advancedSearchModel" tabindex="-1" role="dialog"
         aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">
                    <i class="fas fa-times"></i>
                  </span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title -->
                                <h2 class="text-secondary text-uppercase mb-0">Advanced Search</h2>
                                <!-- Icon Divider -->
                                <div class="divider-custom">
                                    <div class="divider-custom-line"></div>
                                    <div class="divider-custom-icon">
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <div class="divider-custom-line"></div>
                                </div>
                                <!-- Portfolio Modal - Text -->
                                <form class="searchform lead text-center" action="{% url 'food_search:results' %}"
                                      method="get"
                                      accept-charset="utf-8" autocomplete="off">
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.q.errors }}
                                            <label for="{{ form.q.id_for_label }}">{{ form.q.label }}</label>
                                            {{ form.q }}
                                        </p>
                                    </div>
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.fda.errors }}
                                            <label for="{{ form.fda.id_for_label }}">{{ form.fda.label }}: </label>
                                            {{ form.fda }}
                                        </p>
                                    </div>
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.xsm.errors }}
                                            <label for="{{ form.xsm.id_for_label }}">{{ form.xsm.label }}: </label>
                                            {{ form.xsm }}
                                        </p>
                                    </div>
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.sm.errors }}
                                            <label for="{{ form.sm.id_for_label }}">{{ form.sm.label }}: </label>
                                            {{ form.sm }}
                                        </p>
                                    </div>
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.md.errors }}
                                            <label for="{{ form.md.id_for_label }}">{{ form.md.label }}: </label>
                                            {{ form.md }}
                                        </p>
                                    </div>
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.lg.errors }}
                                            <label for="{{ form.lg.id_for_label }}">{{ form.lg.label }}: </label>
                                            {{ form.lg }}
                                        </p>
                                    </div>
                                    <div class="fieldWrapper">
                                        <p class="font-weight-bold">
                                            {{ form.xlg.errors }}
                                            <label for="{{ form.xlg.id_for_label }}">{{ form.xlg.label }}: </label>
                                            {{ form.xlg }}
                                        </p>
                                    </div>
                                    <dl>
                                        <div class="fieldWrapper">
                                            <dt>
                                                {{ form.food_form.errors }}
                                                <label for="{{ form.food_form.id_for_label }}">{{ form.food_form.label }}</label>
                                            </dt>
                                            <dd>
                                                {{ form.food_form }}
                                            </dd>
                                        </div>
                                        <div class="fieldWrapper">
                                            <dt>
                                                {{ form.brand.errors }}
                                                <label for="{{ form.brand.id_for_label }}">{{ form.brand.label }}</label>
                                            </dt>
                                            <dd>
                                                {{ form.brand }}
                                            </dd>
                                        </div>
                                        <div class="fieldWrapper">
                                            <dt>
                                                {{ form.lifestage.errors }}
                                                <label for="{{ form.lifestage.id_for_label }}">{{ form.lifestage.label }}</label>
                                            </dt>
                                            <dd>
                                                {{ form.lifestage }}
                                            </dd>
                                        </div>
                                        <div class="fieldWrapper">
                                            <dt>
                                                {{ form.diet.errors }}
                                                <label for="{{ form.diet.id_for_label }}">{{ form.diet.label }}</label>
                                            </dt>
                                            <dd>
                                                {{ form.diet }}
                                            </dd>
                                        </div>
                                    </dl>
                                    <button class="btn btn-primary" type="submit">
                                        <i class="fas fa-check fa-fw"></i>
                                        Submit
                                    </button>
                                </form>
                                <br>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}